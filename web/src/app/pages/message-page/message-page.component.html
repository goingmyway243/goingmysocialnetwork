<div class="message-page">
    <!-- Chat Content -->
    <div class="chat-content">
        <div class="chat-header">
            <user-avatar [user]="chatUser()"></user-avatar>
        </div>
        <div class="chat-messages">
            @for (item of chatMessages(); track $index) {
                <div class="message"
                    [class.mine]="item.userId === chatUser()?.id">
                    <p>{{ item.message }}</p>
                </div>
            }
        </div>
        <div class="chat-input">
            <input type="text" placeholder="Aa" [(ngModel)]="inputMessage" (keydown)="onKeyPress($event)">
            <mat-icon color="primary" (click)="sendMessage()">send</mat-icon>
        </div>
    </div>

    <!-- Sidebar -->
    <div class="side-bar">
        <div class="chat-list">
            @for (item of chatrooms(); track $index) {
                <div class="chat-item active" (click)="changeChatroom(item)">
                    <message-item [chatroomData]="item"></message-item>
                </div>
            }
        </div>
    </div>
</div>